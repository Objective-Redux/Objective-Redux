<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>objective-redux - v0.3.0</title>
	<meta name="description" content="Documentation for objective-redux - v0.3.0">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.json" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">objective-redux - v0.3.0</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<ul class="tsd-breadcrumb">
				<li>
					<a href="globals.html">Globals</a>
				</li>
			</ul>
			<h1>objective-redux - v0.3.0</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<div style="text-align: center; border: 1px solid; border-radius: 10px; margin: 80px; padding: 30px;">
					<h1 style="border-bottom: 1px dotted; margin-bottom: 0; padding-bottom: 8px; width: 300px; margin:auto;">Objective Redux</h1>
					<h2 style="padding: 0; margin-bottom: 0;">Redux made better, objectively.</h2>
					<p style="margin-top: 5px;">Object-oriented, light-weight, and TypeScript compatible.</p>
					<p>
						<a href="https://www.npmjs.com/package/objective-redux"><img src="https://img.shields.io/npm/v/objective-redux" alt="NPM Version" /></a>
						<a href="./LICENSE"><img src="https://img.shields.io/badge/license-MIT-blue.svg" alt="License" /></a>
						<a href="https://github.com/Objective-Redux/Objective-Redux/actions"><img src="https://github.com/Objective-Redux/Objective-Redux/workflows/Build/badge.svg" alt="build status" /></a>
					</p>
				</div>
				<a href="#setup" id="setup" style="color: inherit; text-decoration: none;">
					<h1>Setup</h1>
				</a>
				<a href="#installing-packages" id="installing-packages" style="color: inherit; text-decoration: none;">
					<h2>Installing Packages</h2>
				</a>
				<p>In order to use Objective Redux in your project, you&#39;ll need to install it along with Redux. These should be saved as dependencies, since they will need to be run with the final application.</p>
				<pre><code>npm <span class="hljs-keyword">install</span> <span class="hljs-comment">--save redux objective-redux</span></code></pre><p>If you want to use Redux-Saga, install it as well.</p>
				<pre><code>npm <span class="hljs-keyword">install</span> <span class="hljs-comment">--save redux-saga</span></code></pre>
				<a href="#connecting-to-redux" id="connecting-to-redux" style="color: inherit; text-decoration: none;">
					<h2>Connecting to Redux</h2>
				</a>
				<p>First, a ReduxRegister needs to be created in order to connect state controllers.</p>
				<p>In addition, for Reactjs, the following sets up a provider for components.</p>
				<pre><code class="language-javascript"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> ReactDOM <span class="hljs-keyword">from</span> <span class="hljs-string">'react-dom'</span>;
<span class="hljs-keyword">import</span> { RegisterProvider, ReduxRegister } <span class="hljs-keyword">from</span> <span class="hljs-string">'objective-redux'</span>;
<span class="hljs-keyword">import</span> { register } <span class="hljs-keyword">from</span> <span class="hljs-string">'./store/register'</span>;
<span class="hljs-keyword">import</span> App <span class="hljs-keyword">from</span> <span class="hljs-string">'./app'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> register = <span class="hljs-keyword">new</span> ReduxRegister();

ReactDOM.render(
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">RegisterProvider</span> <span class="hljs-attr">register</span>=<span class="hljs-string">{register}</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">App</span> /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">RegisterProvider</span>&gt;</span></span>,
  <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'root'</span>)
);</code></pre>
				<br />
				<a href="#creating-slices" id="creating-slices" style="color: inherit; text-decoration: none;">
					<h1>Creating Slices</h1>
				</a>
				<p>In Objective-Redux, a StateController handles the access and mutation of a slice of state. Every time you instantiate a StateController, the reducer associated with that state is added automatically to the <code>ReduxRegister</code>.</p>
				<p>The <code>stateName</code> and the <code>initialState</code> are sent to the super constructor. The <code>stateName</code> will identify the piece of the state the controller is operating on and the <code>initialState</code> determines the starting configuration it.</p>
				<p>Actions and their associated mutations are created by using the <code>registerAction</code> method. This method takes a function that, in turn, accepts the current state and the action payload as parameters and returns the new state.</p>
				<p>Below is an example of a state controller that flips a switch on and off.</p>
				<pre><code class="language-javascript"><span class="hljs-keyword">import</span> { StateController } <span class="hljs-keyword">from</span> <span class="hljs-string">'objective-redux'</span>;

<span class="hljs-keyword">const</span> initialState = { <span class="hljs-attr">isOn</span>: <span class="hljs-literal">false</span> };

<span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SwitchStateController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StateController</span> </span>{
  <span class="hljs-keyword">constructor</span>(stateName, register) {        <span class="hljs-comment">// The generated reducer is added</span>
    <span class="hljs-keyword">super</span>(                                  <span class="hljs-comment">// to the ReduxRegister. No need</span>
      stateName,                            <span class="hljs-comment">// to wire it up manually.</span>
      initialState,
      register
    );
  }

  toggleSwitch = <span class="hljs-keyword">this</span>.registerAction(       <span class="hljs-comment">// This creates a reducer and</span>
    <span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> ({ <span class="hljs-attr">isOn</span>: !state.isOn })      <span class="hljs-comment">// returns the associate action.</span>
  );

  switchSelector(state, ownProps) {         <span class="hljs-comment">// Optionally defined selector.</span>
    <span class="hljs-keyword">const</span> { isOn } = state[<span class="hljs-keyword">this</span>.stateName]; <span class="hljs-comment">// We could use the inherited </span>
                                            <span class="hljs-comment">// stateSelector method instead</span>
    <span class="hljs-keyword">return</span> {                                <span class="hljs-comment">// if we only want to flatten</span>
      ...ownProps,                          <span class="hljs-comment">// the object.</span>
      <span class="hljs-attr">switchIsOn</span>: isOn,
    };
  }
}</code></pre>
				<p>Below is an example of how the above class would be used.</p>
				<pre><code class="language-javascript"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> { SwitchStateController } <span class="hljs-keyword">from</span> <span class="hljs-string">'./store/switch-state-controller'</span>;
<span class="hljs-keyword">import</span> { ComponentConnector } <span class="hljs-keyword">from</span> <span class="hljs-string">'objective-redux'</span>;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">AppComponent</span>(<span class="hljs-params">props</span>) </span>{
  <span class="hljs-keyword">const</span> { isOn, register } = props;

  <span class="hljs-keyword">const</span> sendToggleAction = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    SwitchStateController.getInstance(register).toggleSwitch();
  }

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{sendToggleAction}</span>&gt;</span>Click me<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>
        Switch is { isOn ? 'On' : 'Off' }
      <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;/&gt;</span></span>
  );
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> ComponentConnector
  .addPropsTo(AppComponent)
  .from(SwitchStateController) <span class="hljs-comment">// or .from(SwitchStateController, state =&gt; ({ isOn: state.isOn }))</span>
  .connect();
</code></pre>
				<br />
				<a href="#creating-sagas" id="creating-sagas" style="color: inherit; text-decoration: none;">
					<h1>Creating Sagas</h1>
				</a>
				<p>Sagas can be created using the <code>StatelessController</code>. The <code>createSagaWithType</code> is passed a take type for the saga, defining how de-duplication of the events should be handled. Then, the <code>register</code> method is called and passed the generator function the saga will execute.</p>
				<p>Below is an example of a Saga that will call the <code>toggleSwitch</code> method of our previously created <code>SwitchStateController</code>.</p>
				<pre><code class="language-javascript"><span class="hljs-keyword">import</span> {
  StatelessController,
  TakeType,
  getRegisterFromContext
} <span class="hljs-keyword">from</span> <span class="hljs-string">'objective-redux'</span>;
<span class="hljs-keyword">import</span> { SwitchStateController } <span class="hljs-keyword">from</span> <span class="hljs-string">'./switch-state-controller'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SwitchStateSagas</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessController</span> </span>{
  toggleSwitch = <span class="hljs-keyword">this</span>.createSaga()
    .withTake(TakeType.TAKE_LATEST)
    .register(
      <span class="hljs-function"><span class="hljs-keyword">function</span>* (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">const</span> register = <span class="hljs-keyword">yield</span> getRegisterFromContext(payload);
        <span class="hljs-keyword">yield</span> MyController.getInstance(register).toggleSwitchValue(payload);
      }
    );
}</code></pre>
				<p>To create a more generic Saga, you can use</p>
				<pre><code class="language-javascript"><span class="hljs-keyword">import</span> { StatelessController, getRegisterFromContext } <span class="hljs-keyword">from</span> <span class="hljs-string">'objective-redux'</span>;
<span class="hljs-keyword">import</span> { SwitchStateController } <span class="hljs-keyword">from</span> <span class="hljs-string">'./switch-state-controller'</span>;
<span class="hljs-keyword">import</span> {takeLatest} <span class="hljs-keyword">from</span> <span class="hljs-string">'redux-saga/effects'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SwitchStateSagas</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessController</span> </span>{
  toggleSwitch = <span class="hljs-keyword">this</span>.createSaga()
    .withAddressableName(<span class="hljs-string">'NAME'</span>)
    .register(
      <span class="hljs-function"><span class="hljs-keyword">function</span> *(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">yield</span> takeLatest(<span class="hljs-string">'NAME'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>* (<span class="hljs-params">{ type, payload }</span>) </span>{
          <span class="hljs-keyword">const</span> register = <span class="hljs-keyword">yield</span> getRegisterFromContext();
          <span class="hljs-keyword">yield</span> MyController.getInstance(register).myAction(payload);
        });
      }
    );
}</code></pre>
				<br />
				<a href="#code-splitting" id="code-splitting" style="color: inherit; text-decoration: none;">
					<h1>Code Splitting</h1>
				</a>
				<p>If you need to call the action from outside your package, you can give the action a name using the <code>withAddressableName</code> method.</p>
				<pre><code class="language-javascript">  <span class="hljs-comment">// For Reducers</span>
  setSwitch = <span class="hljs-keyword">this</span>.registerAction(
    <span class="hljs-function">(<span class="hljs-params">state, isOn</span>) =&gt;</span> ({ isOn })
  ).withAddressableName(<span class="hljs-string">'SET_SWITCH_STATE'</span>); <span class="hljs-comment">// &lt;--</span>

  <span class="hljs-comment">// For Sagas</span>
  toggleSwitch = <span class="hljs-keyword">this</span>.createSaga()
    .withTake(TakeType.TAKE_LATEST)
    .withAddressableName(<span class="hljs-string">'SET_SWITCH_STATE'</span>) <span class="hljs-comment">// &lt;--</span>
    .register(
      <span class="hljs-function"><span class="hljs-keyword">function</span> *(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">const</span> register = <span class="hljs-keyword">yield</span> getRegisterFromContext();
        <span class="hljs-keyword">yield</span> MyController.getInstance(register).myAction(payload);
      }
    );</code></pre>
				<p>Then, your reducer or saga can be called with</p>
				<pre><code class="language-javascript"><span class="hljs-keyword">const</span> myAction = createAction(<span class="hljs-string">'SET_SWITCH_STATE'</span>);
register.getStore().dispatch(createAction(isOn));</code></pre>
				<br />
				<a href="#typescript" id="typescript" style="color: inherit; text-decoration: none;">
					<h1>TypeScript</h1>
				</a>
				<p>Templating is available for projects using TypeScript. For example, if you create an action that will take a string as a parameter, it would look like the below example.</p>
				<pre><code class="language-typescript"><span class="hljs-keyword">class</span> ThemeStateController <span class="hljs-keyword">extends</span> StateController&lt;ThemeState&gt; {
  <span class="hljs-comment">// ...</span>

  <span class="hljs-keyword">public</span> readonly setTheme = <span class="hljs-keyword">this</span>.registerAction&lt;<span class="hljs-built_in">string</span>&gt;(
    <span class="hljs-function">(<span class="hljs-params">state: ThemeState, theme: <span class="hljs-built_in">string</span></span>) =&gt;</span> ({
      ...state,
      theme,
    })
  );
}</code></pre>
				<pre><code class="language-typescript">ThemeStateController.getInstance(register).setTheme();       <span class="hljs-comment">// error</span>
ThemeStateController.getInstance(register).setTheme(<span class="hljs-number">10</span>);     <span class="hljs-comment">// error</span>
ThemeStateController.getInstance(register).setTheme({});     <span class="hljs-comment">// error</span>
ThemeStateController.getInstance(register).setTheme(<span class="hljs-string">'dark'</span>); <span class="hljs-comment">// works</span></code></pre>
				<p>You can also set the action template type to <code>&lt;void&gt;</code> to indicate that no parameter should be taken by the action.</p>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class="globals  ">
						<a href="globals.html"><em>Globals</em></a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
					<li class=" tsd-kind-enum">
						<a href="enums/taketype.html" class="tsd-kind-icon">Take<wbr>Type</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/componentconnector.html" class="tsd-kind-icon">Component<wbr>Connector</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/reduxregister.html" class="tsd-kind-icon">Redux<wbr>Register</a>
					</li>
					<li class=" tsd-kind-class tsd-has-type-parameter">
						<a href="classes/sagabuilder.html" class="tsd-kind-icon">Saga<wbr>Builder</a>
					</li>
					<li class=" tsd-kind-class tsd-has-type-parameter">
						<a href="classes/statecontroller.html" class="tsd-kind-icon">State<wbr>Controller</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/statelesscontroller.html" class="tsd-kind-icon">Stateless<wbr>Controller</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="globals.html#registerprovider" class="tsd-kind-icon">Register<wbr>Provider</a>
					</li>
					<li class=" tsd-kind-function tsd-has-type-parameter">
						<a href="globals.html#createaction" class="tsd-kind-icon">create<wbr>Action</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="globals.html#getregisterfromsagacontext" class="tsd-kind-icon">get<wbr>Register<wbr>From<wbr>Saga<wbr>Context</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="globals.html#useregisterfromreactcontext" class="tsd-kind-icon">use<wbr>Register<wbr>From<wbr>React<wbr>Context</a>
					</li>
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected method</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static method</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
<script>if (location.protocol == 'file:') document.write('<script src="assets/js/search.js"><' + '/script>');</script>
</body>
</html>